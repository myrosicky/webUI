<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4"> 
    <head>                                                                                                                                            
        <title>approve</title>                                                                                                          
        <meta charset="utf-8" />                                      
        <link rel="stylesheet" th:href="@{/css/base.css}" />                                                                                       
        <link rel="stylesheet" th:href="@{/css/approve.css}" />   
        <script type="text/javascript"  th:src="@{/webjars/angularjs/1.6.4/angular.min.js}"></script>
        <script type="text/javascript" th:src="@{/webjars/angularjs/1.6.4/angular-route.js}" ></script> 
        <script type="text/javascript" th:src="@{/webjars/jquery/2.1.1/jquery.min.js}" ></script>
        <script type="text/javascript"  th:src="@{/js/approve.js}"></script>
    </head>                                                                                                                                           
    <body>                                                                                                                                            
         <div ng-app="myApp" ng-controller="myCtrl"> 
         	<table class="inputBoxGroup">
         		<tr>
						<td>
	         			<label>start:</label><input type="text" ng-model="start" />
	         			</td>
						<td>
	         			<label>destination:</label><input type="text" ng-model="destination" />
	         			</td>
						<td>
	         			<label>time:</label><input type="text" ng-model="time" />
	         			</td>
         		</tr>
         	</table>
         	
         	<table class="queryButtonGroup">
         		<tr> 
         			<td>
         			<input type="button" class="btn" ng-click="queryPendingApply()" value="queryPendingApply" />
         			</td>
         		</tr>
         	</table>
         	
         	<table name="result" class="resultTable" >
         		<tr>
					<td>start</td>
					<td>destination</td>
					<td>time</td>
					<td></td>
         		</tr>
         		<tr ng-repeat="x in results">
					<td>{{x.start}}</td>
					<td>{{x.destination}}</td>
					<td>{{x.time}}</td>
					<td>
						<input type="button" class="btn" ng-click="approve(x.city)" value="approve" />
						<input type="button" class="btn" ng-click="reject(x.city)" value="reject" />
						<input type="button" class="btn" ng-click="viewApproveHistory(x.city)" value="viewApproveHistory" />
					</td>
         		</tr>
         	</table>
         	
         	
         	<!-- The Modal -->
			<div id="approveHistoryDialog" class="modal">
			  <!-- Modal content -->
			  <div class="modal-content">
			    <span class="close" ng-click="closeApproveHistoryDialog()">&times;</span>
			    
	         	<table class="resultTable">
				   	 	<tr>
							<th >time</th>
	         				<th >comment</th>
	         				<th >operation</th>
	         				<th >city</th>
	         				<th >approver</th>
		         		</tr>
		         		<tr ng-repeat="x in approves">
							<td >{{x.time}}</td>
	         				<td >{{x.comment}}</td>
	         				<td >{{x.operation}}</td>
	         				<td >{{x.city}}</td>
	         				<td >{{x.approver}}</td>
		         		</tr>
         		</table>
         		<table class="queryButtonGroup">
	         		<tr> 
	         			<td>
	         			<input type="button" class="btn" ng-click="closeApproveHistoryDialog()" value="close" />
	         			</td>
	         		</tr>
         		</table>
			  </div>
			</div>
         	
         </div>
     </body>                                                                                                                                          
 </html>                                                                                                                                             